package main

import (
	"reflect"
	"testing"
)

func Test_bestRhombicAreaFrame(t *testing.T) {
	type args struct {
		matrix [][]int
		radius int
	}
	tests := []struct {
		args args
		want []int
	}{
		{
			args: args{
				matrix: [][]int{
					{1, 1, 2, 3, 1},
					{2, 5, 2, 1, 7},
					{1, 4, 3, 1, 5},
					{6, 1, 4, 2, 0},
				},
				radius: 2,
			},
			want: []int{14, 13, 12},
		},
		{
			args: args{
				matrix: [][]int{
					{0, 0, 2, 2, 0, 2},
					{0, 0, 2, 2, 1, 1},
					{1, 2, 2, 1, 1, 1},
					{0, 2, 1, 2, 0, 1},
					{2, 0, 0, 2, 0, 0},
				},
				radius: 2,
			},
			want: []int{8, 7, 6},
		},
		{
			args: args{
				matrix: [][]int{
					{100},
				},
				radius: 1,
			},
			want: []int{100},
		},
		{
			args: args{
				matrix: [][]int{
					{1, 1, 2, 2, 0, 2, 1},
					{2, 0, 2, 3, 3, 2, 2},
					{1, 2, 1, 3, 0, 2, 2},
					{0, 1, 0, 0, 1, 1, 3},
					{1, 1, 1, 2, 3, 2, 1},
					{2, 2, 1, 0, 1, 0, 0},
					{0, 3, 3, 3, 3, 2, 1},
					{0, 1, 1, 1, 1, 0, 3},
				},
				radius: 3,
			},
			want: []int{21, 20, 19},
		},
		{
			args: args{
				matrix: [][]int{
					{3, 2, 4, 2, 0, 0, 3, 0, 3, 3},
					{0, 1, 5, 3, 2, 2, 1, 1, 0, 5},
					{2, 0, 4, 0, 4, 3, 5, 2, 4, 4},
					{5, 4, 4, 5, 5, 0, 2, 5, 0, 2},
					{0, 1, 4, 4, 2, 2, 4, 3, 2, 2},
					{3, 5, 2, 0, 5, 0, 4, 2, 2, 5},
					{2, 3, 2, 0, 5, 1, 0, 2, 5, 4},
					{0, 1, 0, 1, 4, 2, 5, 3, 2, 2},
					{5, 1, 4, 3, 0, 0, 5, 0, 1, 0},
					{5, 3, 1, 1, 4, 0, 4, 4, 3, 2},
				},
				radius: 4,
			},
			want: []int{74, 71, 68},
		},
		{
			args: args{
				matrix: [][]int{
					{7, 2, 0, 3, 0, 2, 3, 0, 3, 3},
					{2, 0, 6, 10, 9, 2, 7, 1, 1, 10},
					{0, 4, 4, 6, 2, 6, 6, 7, 9, 8},
					{5, 7, 10, 6, 1, 8, 7, 10, 8, 3},
					{10, 1, 0, 9, 10, 0, 9, 1, 3, 5},
					{0, 3, 0, 5, 8, 4, 1, 1, 6, 7},
					{5, 3, 7, 1, 9, 6, 10, 2, 8, 4},
					{0, 2, 8, 5, 4, 9, 4, 5, 4, 5},
					{4, 9, 9, 10, 0, 1, 0, 1, 6, 5},
					{4, 9, 8, 4, 1, 0, 0, 0, 2, 1},
				},
				radius: 2,
			},
			want: []int{44, 40, 38},
		},
		/*{
			args: args{
				matrix: [][]int{
					{22, 28, 17, 23, 5, 9, 17, 20, 4, 29, 19, 3, 21, 29, 10},
					{28, 18, 26, 4, 14, 5, 3, 1, 26, 0, 7, 3, 13, 28, 3},
					{14, 28, 23, 4, 11, 25, 10, 20, 3, 26, 1, 12, 10, 28, 19},
					{5, 23, 24, 27, 16, 8, 2, 0, 16, 28, 10, 16, 14, 22, 16},
					{14, 12, 21, 20, 29, 18, 5, 4, 26, 30, 24, 15, 18, 4, 18},
					{26, 24, 8, 13, 25, 6, 1, 25, 27, 1, 19, 14, 9, 0, 7},
					{1, 30, 25, 25, 13, 28, 20, 17, 19, 20},
				},
				radius: 7, --> 2*radius-1 IS NOT <= MIN(15, 7)
			},
			want: []int{1298, 1278, 1274},
		},
		{
			args: args{
				matrix: [][]int{
					{54, 20, 47, 57, 48, 29, 51, 35, 59, 3, 31, 24, 67, 3, 0, 51, 31, 42, 53, 39, 36, 54, 40, 70, 23},
					{17, 59, 57, 8, 41, 46, 18, 26, 38, 40, 38, 54, 29, 70, 7, 10, 29, 70, 4, 4, 21, 0, 42, 18, 63},
					{37, 42, 44, 53, 60, 25, 54, 52, 59, 46, 35, 38, 41, 31, 33, 62, 19, 44, 13, 5, 57, 41, 22, 46, 57},
					{18, 30, 35, 26, 48, 57, 30, 4, 66, 58, 31, 37, 52, 56, 55, 30, 7, 62, 26, 47, 60, 24, 5, 19, 30},
				},
				radius: 3, --> 2*radius-1 IS NOT <= MIN(25, 4)
			},
			want: []int{654, 643, 642},
		},*/
	}

	for _, tt := range tests {
		t.Run("Test matrix", func(t *testing.T) {
			if got := bestRhombicAreaFrame(tt.args.matrix, tt.args.radius); !reflect.DeepEqual(got, tt.want) {
				t.Errorf("bestRhombicAreaFrame() = %v, want %v", got, tt.want)
			}
		})
	}
}
